
:root{
  --bg:#f5f1ea;
  --ink:#1f2328;
  --muted:#5b6672;
  --card:#ffffff;
  --accent:#2f4f6f;
  --accent2:#8b2e2e;
  --shadow: 0 12px 30px rgba(0,0,0,.08);
  --radius: 18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-serif, Georgia, "Times New Roman", serif;
  background: radial-gradient(1200px 800px at 30% 0%, #d8e3f1 0%, var(--bg) 55%);
  color:var(--ink);
}
a{color:inherit}
.topbar{
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(8px);
  background: rgba(245,241,234,.75);
  border-bottom: 1px solid rgba(0,0,0,.08);
}
.topbar-inner{
  max-width: 1080px;
  margin:0 auto;
  padding: .8rem 1rem;
  display:flex; align-items:center; gap:.75rem; justify-content:space-between;
}
.brand{
  display:flex; align-items:center; gap:.75rem;
}
.brand .logo{
  width:40px; height:40px; border-radius: 14px;
  background: linear-gradient(135deg, var(--accent), #7aa0c7);
  display:grid; place-items:center; color:white;
  box-shadow: var(--shadow);
}
.brand h1{
  margin:0;
  font-size: 1.05rem;
  letter-spacing:.2px;
}
.brand small{display:block; color:var(--muted); font-style:italic; margin-top:.1rem}
.actions{display:flex; gap:.5rem; align-items:center}
.iconbtn{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.55rem .75rem;
  border-radius: 999px;
  border:1px solid rgba(0,0,0,.12);
  background: rgba(255,255,255,.7);
  cursor:pointer;
  text-decoration:none;
}
.iconbtn svg{width:18px;height:18px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
main{max-width:1080px;margin: 1.25rem auto 3rem; padding: 0 1rem}
.hero{
  display:grid; grid-template-columns: 1.1fr .9fr; gap:1rem;
  align-items:stretch;
}
@media (max-width: 860px){ .hero{grid-template-columns:1fr} }
.card{
  background: rgba(255,255,255,.8);
  border: 1px solid rgba(0,0,0,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card-pad{padding: 1.2rem 1.2rem}
.h-title{font-size: 2.1rem; margin:.2rem 0 .2rem; letter-spacing:.3px}
.h-sub{color:var(--muted); margin:0 0 .8rem; line-height:1.35}
.cover{
  min-height: 270px;
  background: linear-gradient(135deg, rgba(47,79,111,.25), rgba(139,46,46,.18));
  display:grid; place-items:center;
  position:relative;
}
.cover img{
  width:100%; height:100%; object-fit:cover; display:block;
  filter:saturate(1.02) contrast(1.02);
}
.cover .overlay{
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.05), rgba(0,0,0,.35));
}
.cover .badge{
  position:absolute; left:16px; bottom:14px;
  background: rgba(255,255,255,.86);
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 999px;
  padding: .5rem .75rem;
  font-weight: 700;
}
.grid{
  display:grid; grid-template-columns: repeat(3, 1fr); gap:1rem; margin-top:1rem;
}
@media (max-width: 920px){ .grid{grid-template-columns: repeat(2, 1fr);} }
@media (max-width: 620px){ .grid{grid-template-columns: 1fr;} }
.tile{
  padding: 1rem;
  display:flex; flex-direction:column; gap:.55rem;
}
.tile .row{display:flex; align-items:center; gap:.6rem}
.tile .ico{
  width:44px; height:44px; border-radius: 16px;
  display:grid; place-items:center;
  background: rgba(47,79,111,.10);
  border:1px solid rgba(0,0,0,.10);
}
.tile .ico svg{width:22px;height:22px;fill:none;stroke:var(--accent);stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.tile h3{margin:0; font-size: 1.15rem}
.tile p{margin:0; color:var(--muted); line-height:1.35}
.tile a{
  margin-top:auto;
  display:inline-flex; align-items:center; gap:.45rem;
  text-decoration:none;
  font-weight:700;
  color: var(--accent);
}
.tile a svg{width:18px;height:18px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.footer{
  margin-top: 1.25rem;
  color: var(--muted);
  text-align:center;
  padding: 1rem 0;
}
/* Page layout */
.pagehead{
  display:flex; align-items:flex-end; justify-content:space-between; gap:1rem; flex-wrap:wrap;
  margin-top: .5rem;
}
.pagehead h2{margin:0; font-size:1.9rem}
.pagehead .meta{color:var(--muted); line-height:1.35}
.progress{
  display:flex; align-items:center; gap:.5rem;
  padding:.55rem .8rem;
  border-radius: 999px;
  background: rgba(255,255,255,.8);
  border:1px solid rgba(0,0,0,.10);
}
.bar{
  width: 140px; height: 8px; border-radius: 999px;
  background: rgba(47,79,111,.12);
  overflow:hidden;
}
.bar > span{display:block; height:100%; width: 20%; background: var(--accent)}
.content{
  margin-top: .9rem;
  display:grid; grid-template-columns: 1fr; gap:1rem;
}
.figure{
  border-radius: var(--radius);
  overflow:hidden;
  border:1px solid rgba(0,0,0,.10);
  background:white;
}
.figure img{width:100%; height:auto; display:block}
.textblock{
  background: rgba(255,255,255,.82);
  border:1px solid rgba(0,0,0,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 1.1rem 1.1rem;
}
.textblock p{margin:.55rem 0; line-height:1.55}
/* Interactive */
.qa{
  margin-top: .9rem;
  border-top: 1px dashed rgba(0,0,0,.18);
  padding-top: .9rem;
}
.qcard{
  background: rgba(255,255,255,.85);
  border:1px solid rgba(0,0,0,.10);
  border-radius: 16px;
  padding: .9rem;
  margin: .7rem 0;
}
.qtitle{
  display:flex; align-items:flex-start; gap:.6rem;
  font-weight:800;
}
.qtitle svg{width:18px;height:18px;fill:none;stroke:var(--accent2);stroke-width:2;stroke-linecap:round;stroke-linejoin:round; margin-top:.1rem}
.choices{display:grid; gap:.45rem; margin-top:.55rem}
.choice{
  display:flex; gap:.55rem; align-items:flex-start;
  padding:.55rem .6rem;
  border-radius: 14px;
  border:1px solid rgba(0,0,0,.10);
  background: rgba(255,255,255,.75);
  cursor:pointer;
}
.choice input{margin-top:.2rem}
textarea, input[type="text"]{
  width:100%;
  border-radius: 14px;
  border:1px solid rgba(0,0,0,.14);
  padding:.7rem .75rem;
  font-family: inherit;
  font-size: 1rem;
  background: rgba(255,255,255,.9);
}
.smallrow{display:flex; gap:.6rem; flex-wrap:wrap; margin-top:.65rem}
.btn{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.6rem .85rem;
  border-radius: 999px;
  border:1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.85);
  cursor:pointer;
  font-weight:800;
  text-decoration:none;
}
.btn.primary{
  background: var(--accent);
  color:white;
  border-color: rgba(0,0,0,.05);
}
.btn svg{width:18px;height:18px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.nav-steps{
  display:flex; justify-content:space-between; gap:.6rem; margin-top: .9rem; flex-wrap:wrap;
}
.notice{
  color: var(--muted);
  font-size: .95rem;
}
/* Map */
.mapwrap{
  display:grid; grid-template-columns: 1fr; gap:1rem; margin-top: 1rem;
}
.mapcard{
  padding: 1rem;
}
.nodes{
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap: .8rem;
  align-items:stretch;
}
@media (max-width: 980px){ .nodes{grid-template-columns: repeat(2, 1fr);} }
.node{
  background: rgba(255,255,255,.85);
  border:1px solid rgba(0,0,0,.12);
  border-radius: 18px;
  padding: .9rem;
  display:flex; flex-direction:column; gap:.55rem;
  position:relative;
}
.node .tag{
  font-size:.8rem;
  font-weight:900;
  letter-spacing:.3px;
  color: var(--accent2);
}
.node h4{margin:0; font-size:1.05rem}
.node .go{
  margin-top:auto;
  display:inline-flex; align-items:center; gap:.4rem;
  font-weight:900; color: var(--accent);
  text-decoration:none;
}
